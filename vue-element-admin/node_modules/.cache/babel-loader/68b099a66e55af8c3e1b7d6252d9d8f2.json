{"remainingRequest":"/Users/xixi/staff_management/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xixi/staff_management/vue-element-admin/src/views/permissions/saveClerk.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xixi/staff_management/vue-element-admin/src/views/permissions/saveClerk.vue","mtime":1608726456333},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":1608726441374},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":1608726455182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMveGl4aS9zdGFmZl9tYW5hZ2VtZW50L3Z1ZS1lbGVtZW50LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjbGVyayBmcm9tICJAL2FwaS9jbGVyayI7CmltcG9ydCByb2xlIGZyb20gIkAvYXBpL3JvbGUiOwppbXBvcnQgZGVwYXJ0bWVudCBmcm9tICJAL2FwaS9kZXBhcnRtZW50IjsKaW1wb3J0IEltYWdlQ3JvcHBlciBmcm9tICJAL2NvbXBvbmVudHMvSW1hZ2VDcm9wcGVyIjsKaW1wb3J0IFBhblRodW1iIGZyb20gIkAvY29tcG9uZW50cy9QYW5UaHVtYiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJbWFnZUNyb3BwZXI6IEltYWdlQ3JvcHBlciwKICAgIFBhblRodW1iOiBQYW5UaHVtYgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICBtYW5hZ2VtZW50SW5mbzogIiIsCiAgICAgIGNsZXJrOiB7fSwKICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgLy8g5L+d5a2Y5oyJ6ZKu5piv5ZCm56aB55SoLAogICAgICBkZXBhcnRtZW50TGlzdDogbnVsbAogICAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJzYXZlQnRuRGlzYWJsZWQiLCBmYWxzZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiaW1hZ2Vjcm9wcGVyU2hvdyIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJpbWFnZWNyb3BwZXJLZXkiLCAwKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJjbGVya0lkIiwgIiIpLCBfcmVmOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogICAgdGhpcy5pbml0RGVwYXJ0bWVudCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8v55uR5ZCsCiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICAvL+i3r+eUseWPkeeUn+WPmOWMliDmlrnms5XlsLHkvJrmiafooYwKICAgICAgdGhpcy5pbml0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WIneWni+WMlgogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgLy/liKTmlq3ot6/lvoTkuK3mmK/lkKbmnIlpZOWAvAogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICB0aGlzLmNsZXJrSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgdGhpcy5nZXRDbGVya0J5SWQoaWQpOwogICAgICAgIHRoaXMuaW5pdFJvbGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+a4heepuuihqOWNlQogICAgICAgIHRoaXMuY2xlcmsgPSB7fTsKICAgICAgfQogICAgfSwKICAgIGluaXRSb2xlOiBmdW5jdGlvbiBpbml0Um9sZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJvbGUuZ2V0Um9sZUJ5Q2xlcmtJZCh0aGlzLmNsZXJrSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucm9sZSkgewogICAgICAgICAgX3RoaXMubWFuYWdlbWVudEluZm8gPSAi5pivIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubWFuYWdlbWVudEluZm8gPSAi5ZCmIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l6K+i6YOo6ZeoCiAgICBpbml0RGVwYXJ0bWVudDogZnVuY3Rpb24gaW5pdERlcGFydG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZGVwYXJ0bWVudC5nZXREZXBhcnRtZW50TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YS5kZXBhcnRtZW50TGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy/moLnmja5pZOafpeivogogICAgZ2V0Q2xlcmtCeUlkOiBmdW5jdGlvbiBnZXRDbGVya0J5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBjbGVyay5nZXRDbGVya0J5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmNsZXJrID0gcmVzcG9uc2UuZGF0YS5jbGVyazsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7fSk7CiAgICB9LAogICAgLy/mt7vliqAKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcm9sZS51b2RhdGVSb2xlQnlDbGVya0lkKHRoaXMuY2xlcmtJZCwgdGhpcy5tYW5hZ2VtZW50SW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKnyEiCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi9wZXJtaXNzaW9ucy9saXN0UGVybWlzc2lvbnMiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["saveClerk.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,KAAA,MAAA,aAAA;AACA,OAAA,IAAA,MAAA,YAAA;AACA,OAAA,UAAA,MAAA,kBAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA,YAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAFA,kBAEA;AAAA;;AACA;AACA,MAAA,cAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,eAAA,EAAA,KAHA;AAGA;AACA,MAAA,cAAA,EAAA;AAJA,gDAKA,KALA,6CAMA,KANA,4CAOA,CAPA,oCAQA,EARA;AAUA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,IAAA;AACA,SAAA,cAAA;AACA,GAjBA;AAkBA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,MAFA,kBAEA,EAFA,EAEA,IAFA,EAEA;AACA;AACA,WAAA,IAAA;AACA;AALA,GAlBA;AAyBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,YAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,aAAA,YAAA,CAAA,EAAA;AACA,aAAA,QAAA;AACA,OALA,MAKA;AACA;AACA,aAAA,KAAA,GAAA,EAAA;AACA;AACA,KAbA;AAcA,IAAA,QAdA,sBAcA;AAAA;;AACA,MAAA,IAAA,CAAA,gBAAA,CAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,GAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,GAAA;AACA;AACA,OANA;AAOA,KAtBA;AAuBA;AACA,IAAA,cAxBA,4BAwBA;AAAA;;AACA,MAAA,UAAA,CAAA,iBAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,cAAA;AACA,OAFA;AAGA,KA5BA;AA8BA;AACA,IAAA,YA/BA,wBA+BA,EA/BA,EA+BA;AAAA;;AACA,MAAA,KAAA,CACA,YADA,CACA,EADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA,CAAA,CALA;AAMA,KAtCA;AAuCA;AACA,IAAA,IAxCA,kBAwCA;AAAA;;AACA,MAAA,IAAA,CACA,mBADA,CACA,KAAA,OADA,EACA,KAAA,cADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,SADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OARA;AASA;AAlDA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form label-width=\"140px\">\n      <el-form-item label=\"员工编号\">\n        <el-input :span=\"6\" :disabled=\"true\" v-model=\"clerk.id\" />\n      </el-form-item>\n      <el-form-item label=\"员工名称\">\n        <el-input\n          :disabled=\"true\"\n          maxlength=\"10\"\n          show-word-limit\n          v-model=\"clerk.name\"\n        />\n      </el-form-item>\n      <el-form-item label=\"备注\">\n        <el-radio :disabled=\"true\" v-model=\"clerk.sex\" label=\"0\">女</el-radio>\n        <el-radio :disabled=\"true\" v-model=\"clerk.sex\" label=\"1\">男</el-radio>\n      </el-form-item>\n      <el-form-item label=\"手机号\">\n        <el-input :disabled=\"true\" v-model=\"clerk.phoneNumber\" />\n      </el-form-item>\n      <el-form-item label=\"身份证号\">\n        <el-input :disabled=\"true\" v-model=\"clerk.idCard\" />\n      </el-form-item>\n      <el-form-item label=\"地址\">\n        <el-input :disabled=\"true\" v-model=\"clerk.address\" />\n      </el-form-item>\n      <el-form-item label=\"职务\">\n        <el-input :disabled=\"true\" v-model=\"clerk.position\" />\n      </el-form-item>\n      <el-form-item label=\"部门\">\n        <el-select\n          :disabled=\"true\"\n          v-model=\"clerk.departmentId\"\n          clearable\n          placeholder=\"请选择\"\n        >\n          <el-option\n            v-for=\"item in departmentList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"员工照片\">\n        <!-- 头衔缩略图 -->\n        <pan-thumb :image=\"clerk.photo + ''\" />\n        <!-- 文件上传按钮 -->\n      </el-form-item>\n      <el-form-item label=\"是否激活管理员权限\">\n        <el-radio-group v-model=\"managementInfo\">\n          <el-radio-button label=\"是\"></el-radio-button>\n          <el-radio-button label=\"否\"></el-radio-button>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button :disabled=\"saveBtnDisabled\" type=\"primary\" @click=\"save\"\n          >保存</el-button\n        >\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport clerk from \"@/api/clerk\";\nimport role from \"@/api/role\";\nimport department from \"@/api/department\";\nimport ImageCropper from \"@/components/ImageCropper\";\nimport PanThumb from \"@/components/PanThumb\";\n\nexport default {\n  components: { ImageCropper, PanThumb },\n  data() {\n    return {\n      managementInfo: \"\",\n      clerk: {},\n      saveBtnDisabled: false, // 保存按钮是否禁用,\n      departmentList: null,\n      saveBtnDisabled: false, // 保存按钮是否禁用,\n      imagecropperShow: false, //上传弹窗组件是否显示\n      imagecropperKey: 0, //上传组件的key值\n      clerkId: \"\",\n    };\n  },\n  created() {\n    this.init();\n    this.initDepartment();\n  },\n  watch: {\n    //监听\n    $route(to, from) {\n      //路由发生变化 方法就会执行\n      this.init();\n    },\n  },\n  methods: {\n    //初始化\n    init() {\n      //判断路径中是否有id值\n      if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id;\n        this.clerkId = this.$route.params.id;\n        this.getClerkById(id);\n        this.initRole();\n      } else {\n        //清空表单\n        this.clerk = {};\n      }\n    },\n    initRole() {\n      role.getRoleByClerkId(this.clerkId).then((response) => {\n        if (response.data.role) {\n          this.managementInfo = \"是\";\n        } else {\n          this.managementInfo = \"否\";\n        }\n      });\n    },\n    //查询部门\n    initDepartment() {\n      department.getDepartmentList().then((response) => {\n        this.departmentList = response.data.departmentList;\n      });\n    },\n\n    //根据id查询\n    getClerkById(id) {\n      clerk\n        .getClerkById(id)\n        .then((response) => {\n          this.clerk = response.data.clerk;\n        })\n        .catch((error) => {});\n    },\n    //添加\n    save() {\n      role\n        .uodateRoleByClerkId(this.clerkId, this.managementInfo)\n        .then((response) => {\n          this.$message({\n            type: \"success\",\n            message: \"修改成功!\",\n          });\n          this.$router.push({ path: \"/permissions/listPermissions\" });\n        });\n    },\n  },\n};\n</script>\n\n"],"sourceRoot":"src/views/permissions"}]}