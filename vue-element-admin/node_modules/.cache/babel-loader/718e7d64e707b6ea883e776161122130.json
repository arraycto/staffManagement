{"remainingRequest":"/Users/xixi/staff_management/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xixi/staff_management/vue-element-admin/src/views/department/saveDepartment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xixi/staff_management/vue-element-admin/src/views/department/saveDepartment.vue","mtime":1608726456330},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":1608726441374},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":1608726455182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRlcGFydG1lbnQgZnJvbSAiQC9hcGkvZGVwYXJ0bWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVwYXJ0bWVudDoge30sCiAgICAgIHNhdmVCdG5EaXNhYmxlZDogZmFsc2UsCiAgICAgIC8vIOS/neWtmOaMiemSruaYr+WQpuemgeeUqCwKICAgICAgQkFTRV9BUEk6IHByb2Nlc3MuZW52LkJBU0VfQVBJLAogICAgICAvL+iOt+WPlmRldi5lbnYuanPkuK3nmoRCQVNFX0FQSQogICAgICBydWxlOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmemDqOmXqOWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICB3YXRjaDogewogICAgLy/nm5HlkKwKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIC8v6Lev55Sx5Y+R55Sf5Y+Y5YyWIOaWueazleWwseS8muaJp+ihjAogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAvL+WIpOaWrei3r+W+hOS4reaYr+WQpuaciWlk5YC8CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgIHRoaXMuZ2V0RGVwYXJ0bWVudEJ5SWQoaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5riF56m66KGo5Y2VCiAgICAgICAgdGhpcy5kZXBhcnRtZW50ID0ge307CiAgICAgIH0KICAgIH0sCiAgICAvL+S/ruaUuQogICAgdXBkYXRlRGVwYXJ0bWVudDogZnVuY3Rpb24gdXBkYXRlRGVwYXJ0bWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGRlcGFydG1lbnQudXBkYXRlRGVwYXJ0bWVudCh0aGlzLmRlcGFydG1lbnQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKnyEiCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL2RlcGFydG1lbnQvbGlzdERlcGFydG1lbnQiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5qC55o2uaWTmn6Xor6IKICAgIGdldERlcGFydG1lbnRCeUlkOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50QnlJZChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRlcGFydG1lbnQuZ2V0RGVwYXJ0bWVudEJ5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmRlcGFydG1lbnQgPSByZXNwb25zZS5kYXRhLmRlcGFydG1lbnQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge30pOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvL+WIpOaWreaYr+S/ruaUuei/mOaYr+a3u+WKoAogICAgICAgICAgLy/liKTmlq3ot6/lvoTkuK3mmK/lkKbmnIlpZAogICAgICAgICAgaWYgKF90aGlzMy4kcm91dGUucGFyYW1zICYmIF90aGlzMy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgIC8v5L+u5pS5CiAgICAgICAgICAgIF90aGlzMy51cGRhdGVEZXBhcnRtZW50KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL+a3u+WKoAogICAgICAgICAgICBfdGhpczMuc2F2ZURlcGFydG1lbnQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5re75YqgCiAgICBzYXZlRGVwYXJ0bWVudDogZnVuY3Rpb24gc2F2ZURlcGFydG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgZGVwYXJ0bWVudC5hZGREZXBhcnRtZW50KHRoaXMuZGVwYXJ0bWVudCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvL+a3u+WKoOaIkOWKnwogICAgICAgIC8v5o+Q56S65L+h5oGvCiAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iCiAgICAgICAgfSk7IC8v5Zue5Yiw5YiX6KGoIOi3r+eUsei3s+i9rCjph43lrprlkJEpCgoKICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvZGVwYXJ0bWVudC9saXN0RGVwYXJ0bWVudCIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy/mj5DnpLrkv6Hmga8KICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgbWVzc2FnZTogIua3u+WKoOWksei0pSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["saveDepartment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form\n      :model=\"department\"\n      ref=\"department\"\n      :rules=\"rule\"\n      label-width=\"120px\"\n    >\n      <el-form-item label=\"部门id\">\n        <el-input :span=\"6\" :disabled=\"true\" v-model=\"department.id\" />\n      </el-form-item>\n      <el-form-item prop=\"name\" label=\"部门名称\">\n        <el-input maxlength=\"10\" show-word-limit v-model=\"department.name\" />\n      </el-form-item>\n      <el-form-item label=\"备注\">\n        <el-input v-model=\"department.note\" />\n      </el-form-item>\n\n      <el-form-item>\n        <el-button\n          :disabled=\"saveBtnDisabled\"\n          type=\"primary\"\n          @click=\"saveOrUpdate('department')\"\n          >保存</el-button\n        >\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport department from \"@/api/department\";\n\nexport default {\n  data() {\n    return {\n      department: {},\n      saveBtnDisabled: false, // 保存按钮是否禁用,\n      BASE_API: process.env.BASE_API, //获取dev.env.js中的BASE_API\n      rule: {\n        name: [\n          { required: true, message: \"请填写部门名称\", trigger: \"change\" },\n        ],\n      },\n    };\n  },\n  created() {\n    this.init();\n  },\n  watch: {\n    //监听\n    $route(to, from) {\n      //路由发生变化 方法就会执行\n      this.init();\n    },\n  },\n  methods: {\n    //初始化\n    init() {\n      //判断路径中是否有id值\n      if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id;\n        this.getDepartmentById(id);\n      } else {\n        //清空表单\n        this.department = {};\n      }\n    },\n    //修改\n    updateDepartment() {\n      department.updateDepartment(this.department).then((response) => {\n        this.$message({\n          type: \"success\",\n          message: \"修改成功!\",\n        });\n        this.$router.push({ path: \"/department/listDepartment\" });\n      });\n    },\n    //根据id查询\n    getDepartmentById(id) {\n      department\n        .getDepartmentById(id)\n        .then((response) => {\n          this.department = response.data.department;\n        })\n        .catch((error) => {});\n    },\n    saveOrUpdate(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          //判断是修改还是添加\n          //判断路径中是否有id\n          if (this.$route.params && this.$route.params.id) {\n            //修改\n            this.updateDepartment();\n          } else {\n            //添加\n            this.saveDepartment();\n          }\n        }\n      });\n    },\n    //添加\n    saveDepartment() {\n      department\n        .addDepartment(this.department)\n        .then((response) => {\n          //添加成功\n          //提示信息\n          this.$message({\n            type: \"success\",\n            message: \"添加成功\",\n          });\n          //回到列表 路由跳转(重定向)\n          this.$router.push({ path: \"/department/listDepartment\" });\n        })\n        .catch((error) => {\n          //提示信息\n          this.$message({\n            type: \"warning\",\n            message: \"添加失败\",\n          });\n        });\n    },\n  },\n};\n</script>\n\n"],"sourceRoot":"src/views/department"}]}