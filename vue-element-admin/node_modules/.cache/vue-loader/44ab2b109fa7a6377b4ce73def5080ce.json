{"remainingRequest":"/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xixi/staff_management/vue-element-admin/src/views/contract/listContract.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xixi/staff_management/vue-element-admin/src/views/contract/listContract.vue","mtime":1608726456325},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":1608726441374},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1608726442352},{"path":"/Users/xixi/staff_management/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":1608726455182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb250cmFjdCBmcm9tICJAL2FwaS9jb250cmFjdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogbnVsbCwgLy/mn6Xor6LkuYvlkI7mjqXlj6Pov5Tlm57pm4blkIgKICAgICAgcGFnZTogMSwgLy/lvZPliY3pobUKICAgICAgbGltaXQ6IDYsIC8v5q+P6aG16K6w5b2V5pWwCiAgICAgIHRvdGFsOiAwLCAvL+aAu+iusOW9leaVsAogICAgICBjb250cmFjdFF1ZXJ5Vm86IHt9LAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL+mhtemdoua4suafk+S5i+WJjeaJp+ihjO+8jOS4gOiIrOeUqOS6juiwg+eUqG1ldGhvZHPkuK3lrprkuYnnmoTmlrnms5UKICAgIHRoaXMuZ2V0Q29udHJhY3RMaXN0UGFnZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXREYXRhKCkgewogICAgICAvL+a4heepuueahOaWueazlQogICAgICAvL+ihqOWNleaVsOaNrua4heepugogICAgICB0aGlzLmNvbnRyYWN0UXVlcnlWbyA9IHt9OwogICAgICAvL+afpeivouaJgOaciQogICAgICB0aGlzLmdldENvbnRyYWN0TGlzdFBhZ2UoKTsKICAgIH0sCiAgICAvL+mhtemdoua4suafk+S5i+WQjuaJp+ihjO+8jOS4gOiIrOeUqOS6juWIm+W7uuWFt+S9k+aWueazlQogICAgLy/liJfooajmlrnms5UKICAgIGdldENvbnRyYWN0TGlzdFBhZ2UocGFnZSA9IDEpIHsKICAgICAgdGhpcy5wYWdlID0gcGFnZTsKICAgICAgY29udHJhY3QKICAgICAgICAuZ2V0Q29udHJhY3RMaXN0UGFnZSh0aGlzLnBhZ2UsIHRoaXMubGltaXQsIHRoaXMuY29udHJhY3RRdWVyeVZvKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgLy/or7fmsYLmiJDlip8KICAgICAgICAgIC8vcmVzcG9uc2XmjqXlj6Pov5Tlm57nmoTmlbDmja4KICAgICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuY29udHJhY3RMaXN0OwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgcmVzZXREYXRhKCkgewogICAgICB0aGlzLmdldENvbnRyYWN0TGlzdFBhZ2UoKTsKICAgIH0sCiAgICBkZWxldGVDb250cmFjdEJ5SWQoaWQpIHsKICAgICAgLy/liKDpmaTlip/og70KICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBjb250cmFjdAogICAgICAgICAgLmRlbGV0ZUNvbnRyYWN0QnlJZChpZCkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAvL+WIoOmZpOaIkOWKnwogICAgICAgICAgICAvL+aPkOekuuS/oeaBrwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuWIoOmZpOaIkOWKnyEiLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy/lm57liLDliJfooagKICAgICAgICAgICAgdGhpcy5nZXRDb250cmFjdExpc3RQYWdlKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAvL+aPkOekuuS/oeaBrwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuWIoOmZpOWksei0pSEiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["listContract.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listContract.vue","sourceRoot":"src/views/contract","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!--查询表单-->\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\n      <el-form-item>\n        <el-input v-model=\"contractQueryVo.name\" placeholder=\"合同名称\" />\n      </el-form-item>\n      <el-form-item>\n        <el-input v-model=\"contractQueryVo.clerkName\" placeholder=\"员工姓名\" />\n      </el-form-item>\n\n      <el-form-item>\n        <el-date-picker\n          v-model=\"contractQueryVo.time\"\n          type=\"datetime\"\n          placeholder=\"在此日期之后签署的合同\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n        >\n        </el-date-picker>\n      </el-form-item>\n     <el-form-item>\n        <el-date-picker\n          v-model=\"contractQueryVo.timeout\"\n          type=\"datetime\"\n          placeholder=\"在此日期之前结束的合同\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n        >\n        </el-date-picker>\n      </el-form-item>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"getContractListPage()\"\n        >查询</el-button\n      >\n      <el-button type=\"default\" @click=\"resetData()\">清空</el-button>\n    </el-form>\n    <el-table\n      :data=\"list\"\n      element-loading-text=\"数据加载中\"\n      fit\n      highlight-current-row\n    >\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"合同照片\">\n              <el-image\n                style=\"width: 100px; height: 100px\"\n                :src=\"props.row.url\"\n                fit=\"contain\"\n              /> </el-form-item\n            >\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"序号\" width=\"70\" align=\"center\">\n        <template slot-scope=\"scope\">{{\n          (page - 1) * limit + scope.$index + 1\n        }}</template>\n      </el-table-column>\n      <el-table-column prop=\"id\" sortable label=\"合同编号\" width=\"200\" />\n      <el-table-column prop=\"name\" sortable label=\"合同名称\" width=\"100\" />\n      <el-table-column prop=\"time\" sortable label=\"签约日期\" />\n      <el-table-column prop=\"timeout\" sortable label=\"截止日期\" />\n      <el-table-column prop=\"clerkId\" sortable label=\"员工名称\" />\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <router-link :to=\"'/contract/updateContract/' + scope.row.id\">\n            <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit\"\n              >修改</el-button\n            >\n          </router-link>\n          <el-button\n            type=\"danger\"\n            size=\"mini\"\n            icon=\"el-icon-delete\"\n            @click=\"deleteContractById(scope.row.id)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <el-pagination\n      :current-page=\"page\"\n      :page-size=\"limit\"\n      :total=\"total\"\n      style=\"padding: 30px 0; text-align: center\"\n      layout=\"total, prev, pager, next, jumper\"\n      @current-change=\"getContractListPage\"\n    />\n  </div>\n</template>\n\n<script>\nimport contract from \"@/api/contract\";\nexport default {\n  data() {\n    return {\n      list: null, //查询之后接口返回集合\n      page: 1, //当前页\n      limit: 6, //每页记录数\n      total: 0, //总记录数\n      contractQueryVo: {},\n    };\n  },\n  created() {\n    //页面渲染之前执行，一般用于调用methods中定义的方法\n    this.getContractListPage();\n  },\n  methods: {\n    resetData() {\n      //清空的方法\n      //表单数据清空\n      this.contractQueryVo = {};\n      //查询所有\n      this.getContractListPage();\n    },\n    //页面渲染之后执行，一般用于创建具体方法\n    //列表方法\n    getContractListPage(page = 1) {\n      this.page = page;\n      contract\n        .getContractListPage(this.page, this.limit, this.contractQueryVo)\n        .then((response) => {\n          //请求成功\n          //response接口返回的数据\n          this.list = response.data.contractList;\n          this.total = response.data.total;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    resetData() {\n      this.getContractListPage();\n    },\n    deleteContractById(id) {\n      //删除功能\n      this.$confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(() => {\n        contract\n          .deleteContractById(id)\n          .then((response) => {\n            //删除成功\n            //提示信息\n            this.$message({\n              type: \"success\",\n              message: \"删除成功!\",\n            });\n            //回到列表\n            this.getContractListPage();\n          })\n          .catch((error) => {\n            //提示信息\n            this.$message({\n              type: \"warning\",\n              message: \"删除失败!\",\n            });\n          });\n      });\n    },\n  },\n};\n</script>\n\n"]}]}